# Kubernetes 架构基础

## Borg

### 简介

#### 特性

- 物理资源利用率高
- 服务器共享，在进程级别做隔离
- 应用高可用，故障恢复时间短
- 调度策略灵活
- 应用接入和使用方便，提供了完备的 job 描述语言，服务发现，实时状态监控和诊断工具

#### 优势

- 对外隐藏底层资源管理和调度、故障处理等
- 实现应用的高可靠和高可用
- 足够弹性，支持应用跑在成千上万的机器上

### 基本概念

#### workload

- prod：在线任务，长期运行、对延时敏感、面向终端用户等
- non-prod：离线任务，也称为批处理任务（Batch），比如一些分布式计算服务等

#### cell

- 一个 cell 上跑一个集群管理系统 Borg
- 通过定义 cell 可以让 Borg 对服务器资源进行统一抽象，作为用户就无需知道自己的应用跑在哪台机器上，也不用关系资源分配、程序安装、依赖管理、健康检查及故障恢复等

#### job 和 task

- 用户以 job 的形式提交应用部署请求。一个 job 包含一个或多个相同的 task，每个 task 运行相同的应用程序，task 数量就是应用的副本数
- 每个 job 可以定义属性、元信息和优先级

#### naming

通过 BNS （Borg Name Service）实现

